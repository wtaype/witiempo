const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hora-CXmtVnPM.js","assets/vendor-B2AETYxa.js","assets/firebase-CTupTNdE.js","assets/calendario-BVmnztQc.js","assets/calculadora-rXtN2Gxh.js","assets/cronometro-D2zmck-P.js"])))=>i.map(i=>d[i]);
import{r as $,g as _}from"./vendor-B2AETYxa.js";import"./firebase-CTupTNdE.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();const x="modulepreload",P=function(o){return"/witiempo/"+o},w={},h=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let g=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=s?.nonce||s?.getAttribute("nonce");a=g(t.map(l=>{if(l=P(l),l in w)return;w[l]=!0;const d=l.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":x,d||(u.as="script"),u.crossOrigin="",u.href=l,c&&u.setAttribute("nonce",c),document.head.appendChild(u),d)return new Promise((b,E)=>{u.addEventListener("load",b),u.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return a.then(s=>{for(const c of s||[])c.status==="rejected"&&n(c.reason);return e().catch(n)})};var C=$();const i=_(C);(()=>{const o=[["Cielo","#0EBEFF"],["Dulce","#FF5C69"],["Paz","#29C72E"],["Mora","#7000FF"],["Futuro","#21273B"]],e=r=>{const[a,n]=i(r).data("tema").split("|");i("html").attr("data-theme",a),(i('meta[name="theme-color"]')[0]||i('<meta name="theme-color">').appendTo("head")[0]).content=n,k("wiTema",`${a}|${n}`,720),i(".mtha").removeClass("mtha"),i(r).addClass("mtha")},t=()=>{i(".witemas").html(o.map(([n,s])=>`<div class="tema" data-tema="${n}|${s}" style="background:${s}"></div>`).join(""));const r=S("wiTema"),a=i(`[data-tema="${r}"]`)[0]||i(".tema").first()[0];a&&e(a),i(document).off("click.witema").on("click.witema",".tema",n=>e(n.currentTarget))};return i(".witemas").length?t():new MutationObserver(r=>r.some(({addedNodes:a})=>[...a].some(n=>n.querySelector?.(".witemas")))&&(t(),!0)).observe(document.body,{childList:1,subtree:1}),{set:e}})();function v(o,e="error",t=3e3){const r={success:"fa-check-circle",error:"fa-times-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"},a={success:"#2E7D32",error:"#D32F2F",warning:"#F9A825",info:"#0288D1"};i("#notificationsContainer").length||i("body").append('<div id="notificationsContainer" style="position:fixed;top:1rem;right:1rem;z-index:9999;display:flex;flex-direction:column;gap:.5rem;"></div>');const n=i(`
    <div class="notification" style="background:#fff;border-left:4px solid ${a[e]};box-shadow:0 4px 12px rgba(0,0,0,.1);border-radius:8px;padding:1rem;display:flex;align-items:center;gap:.5rem;opacity:0;transform:translateX(20px);transition:all .3s ease;">
      <i class="fas ${r[e]}" style="color:${a[e]};"></i>
      <span style="flex:1">${o}</span>
      <button style="background:none;border:none;font-size:1.2rem;cursor:pointer;">&times;</button>
    </div>
  `);i("#notificationsContainer").append(n),requestAnimationFrame(()=>n.css({opacity:1,transform:"translateX(0)"})),n.find("button").on("click",()=>{n.css({opacity:0,transform:"translateX(20px)"}),setTimeout(()=>n.remove(),300)}),setTimeout(()=>{n.css({opacity:0,transform:"translateX(20px)"}),setTimeout(()=>n.remove(),300)},t)}function k(o,e,t){try{localStorage.setItem(o,JSON.stringify({value:e,expiry:Date.now()+t*36e5,type:typeof e,isArray:Array.isArray(e)}))}catch(r){console.error("Error savels",r)}}function S(o){try{const e=localStorage.getItem(o);if(!e)return null;const t=JSON.parse(e);return!t||Date.now()>t.expiry?(localStorage.removeItem(o),null):t.value}catch(e){return console.error("Error getls:",e),N(o),null}}function N(...o){o.forEach(e=>{e&&typeof e=="string"&&localStorage.removeItem(e)})}const p={clean(o){const e="/witiempo/";return o.startsWith(e)&&(o=o.slice(e.length-1)),o==="/"||o===""?"/hora":o},update(o,e=""){const t=o==="/hora"?"/":o;window.history.pushState({path:o},e,t),e&&(document.title=e)},params(){return Object.fromEntries(new URLSearchParams(location.search))},setParams(o){const e=new URL(location);Object.entries(o).forEach(([t,r])=>e.searchParams.set(t,r)),history.pushState({},"",e)}},L={async fade(o,e,t=150){const r=i(o);await r.animate({opacity:0},t).promise(),r.html(e),await r.animate({opacity:1},t).promise()},async slide(o,e=null){const t=i(o);return e===null&&(e=!t.is(":visible")),e?t.slideDown().promise():t.slideUp().promise()},shake(o){i(o).addClass("shake"),setTimeout(()=>i(o).removeClass("shake"),500)},pulse(o){i(o).addClass("pulse"),setTimeout(()=>i(o).removeClass("pulse"),500)}};class A{constructor(){this.routes={},this.currentRoute=null,this.contentContainer="#wiMainContent",this.isNavigating=!1}register(e,t){this.routes[e]=t}async navigate(e,t=!0){if(this.isNavigating)return;this.isNavigating=!0;const r=p.clean(e);if(!this.routes[r]){console.warn(`Ruta no encontrada: ${r}`),v("P√°gina no encontrada","error",2e3),this.isNavigating=!1;return}try{this.updateActiveNav(r);const a=this.routes[r],n=typeof a=="function"?await a():a,s=await n.render();await L.fade(this.contentContainer,s);const c=r.replace("/","").replace(/^(\w)/,g=>g.toUpperCase())||"Hora";document.title=`${c} - Wihope`,n.init&&n.init(),t&&p.update(r),this.currentRoute=r}catch(a){console.error("Error al navegar:",a),v("Error al cargar la p√°gina","error",2e3)}finally{this.isNavigating=!1}}updateActiveNav(e){const t=e.replace("/","")||"hora";i(".winav_item").removeClass("active"),i(`.winav_item[data-page="${t}"]`).addClass("active")}async prefetch(e){const t=p.clean(e);if(!(!this.routes[t]||typeof this.routes[t]!="function")){console.log(`‚ö° Prefetching: ${t}`);try{const r=await this.routes[t]();this.routes[t]=r}catch(r){console.warn(`Error prefetching ${t}`,r)}}}init(){i(document).on("click",".winav_item",t=>{t.preventDefault();const r=i(t.currentTarget).data("page"),a=r==="hora"?"/":`/${r}`;this.navigate(a)}),i(document).on("mouseenter",".winav_item",t=>{const r=i(t.currentTarget).data("page"),a=r==="hora"?"/":`/${r}`;this.prefetch(a)}),window.addEventListener("popstate",t=>{const r=t.state?.path||p.clean(window.location.pathname);this.navigate(r,!1)});const e=p.clean(window.location.pathname);this.navigate(e,!1)}}const m=new A;window.footer=y;const O=2024,T="@wilder.taype",D="https://wtaype.github.io/",F="v11";function y(){const o=new Date;return`
  <footer class="foo wb txc psa">
    <span>Creado con <i class="fas fa-heart"></i> by <a class="ftx lkme" href="${D}" target="_blank">${T}</a></span>
    <span>${O} - <span class="wty">${o.getFullYear()}</span></span>
    <span class="abw"> | Acerca del app ${F} | actualizado:
    <span class="wtu">${o.toLocaleString()}</span></span>
  </footer>
  `}i("body").append(y());i("style").append(".foo{width:100%;text-align:center;padding-block:1.5vh 1vh;background:var(--wb);border-radius:1vh 1vh 0 0;}.foo *{font-size:var(--fz_s2);margin-inline:.3vh;}.foo a{color:var(--bg2);}.foo i{color:var(--mco);}.abwc{background:var(--bg);top:0;width:99%;height:100%;padding:2vh 2vw;overflow:scroll;line-height:1.80;}.abwok{background:var(--mco);color:var(--txa);}");m.register("/hora",()=>h(()=>import("./hora-CXmtVnPM.js"),__vite__mapDeps([0,1,2])));m.register("/calendario",()=>h(()=>import("./calendario-BVmnztQc.js"),__vite__mapDeps([3,1,2])));m.register("/calculadora",()=>h(()=>import("./calculadora-rXtN2Gxh.js"),__vite__mapDeps([4,1,2])));m.register("/cronometro",()=>h(()=>import("./cronometro-D2zmck-P.js"),__vite__mapDeps([5,1,2])));i(document).on("click",".wibtn_auth",function(){const e=i(this).data("auth")==="register"?"Registro":"Inicio de sesi√≥n";v(`${e} pr√≥ximamente disponible`,"info",2e3)});m.init();console.log("üöÄ Sistema SPA inicializado");console.log("üìç Rutas disponibles:",Object.keys(m.routes));export{i as $,v as N,S as g,k as s};
